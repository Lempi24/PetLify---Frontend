:root{
  --bg:#1f1f1f; --bg-2:#232323; --bg-3:#2a2b2a;
  --text:#ffffff; --muted:rgba(255,255,255,.6);
  --accent:#ce7f31; /* = --color-cta */
}

/* backdrop + panel */
.chat__backdrop{position:fixed; inset:0; z-index:3000; background:rgba(0,0,0,.6); display:grid; place-items:center;}
.chat__panel{width:min(720px,92vw); max-height:86vh; background:var(--bg); color:var(--text);
  border-radius:12px; box-shadow:0 14px 40px rgba(0,0,0,.5); display:grid; grid-template-rows:auto 1fr auto; overflow:hidden;
  font-family:'Roboto Mono', system-ui, sans-serif;
}

/* header */
.chat__header{display:flex; align-items:center; gap:10px; padding:10px 12px; background:var(--bg-2);}
.chat__divider{height:1px; background:rgba(255,255,255,.08);}
.chat__back{border:none; background:transparent; color:#fff; width:36px; height:36px; border-radius:8px; display:grid; place-items:center; cursor:pointer;}
.chat__back:hover{background:rgba(255,255,255,.08);}
.chat__headerText{flex:1; min-width:0;}
.chat__title{font-weight:800; font-size:16px;}
.chat__subtitle{font-size:12px; color:var(--muted);}
.chat__subject{color:#fff; font-weight:800;}
.chat__close{border:none; background:transparent; color:var(--accent); font-weight:900; font-size:20px; cursor:pointer; padding:6px 8px; border-radius:10px;}
.chat__close:hover{background:rgba(206,127,49,.12);}

/* messages */
.chat__messages{background:#1b1b1b; overflow-y:auto; padding:14px 14px 10px;}
.chat__empty{text-align:center; color:var(--muted); padding:18px 0; font-size:14px;}
.chat__row{display:flex; margin:10px 0;}
.chat__row.mine{justify-content:flex-end;}
.chat__row.theirs{justify-content:flex-start;}
.chat__bubble{max-width:72%; padding:12px 14px; border-radius:18px; font-size:15px; line-height:1.45; white-space:pre-wrap; word-wrap:break-word; background:var(--bg-3);}
.bubble--mine{background:var(--accent); color:#fff; border-bottom-right-radius:8px;}
.bubble--theirs{background:var(--bg-3); color:#fff; border-bottom-left-radius:8px;}
.chat__timeSep{display:inline-block; margin:12px auto; font-size:11px; color:var(--muted);
  border:1px solid rgba(255,255,255,.12); padding:4px 8px; border-radius:999px;}

/* typing dots */
.chat__typing{display:inline-flex; gap:4px; align-items:center;}
.chat__typing i{width:6px; height:6px; background:#fff; opacity:.85; border-radius:50%; animation:blip 1s infinite ease-in-out;}
.chat__typing i:nth-child(2){animation-delay:.15s;} .chat__typing i:nth-child(3){animation-delay:.3s;}
@keyframes blip{0%,80%,100%{transform:translateY(0); opacity:.6;}40%{transform:translateY(-3px); opacity:1;}}

/* input bar */
.chat__inputBar{display:flex; align-items:center; gap:10px; background:var(--bg-2); padding:10px; border-top:1px solid rgba(255,255,255,.08);}
.chat__input{flex:1; max-height:120px; resize:none; background:var(--bg-3); color:#fff; border:1px solid transparent; border-radius:12px; padding:11px 12px; outline:none; line-height:1.45;}
.chat__input::placeholder{color:var(--muted);}
.chat__input:focus{border-color:rgba(206,127,49,.55);}
.chat__btnsRight{display:flex; gap:10px;}
.chat__circleBtn{width:40px; height:40px; min-width:40px; display:grid; place-items:center; background:var(--accent); color:#1f1f1f; border:none; border-radius:50%; cursor:pointer; font-weight:800;}
.chat__circleBtn:hover{filter:brightness(1.05);}
.chat__circleBtn.send{box-shadow:0 0 0 2px rgba(0,0,0,.2) inset;}
.chat__icon{width:20px; height:20px;}
